{% extends "layout/print.twig" %}
{% block content %}
    <h1 class="center">{{ characterData.name }}</h1>

    <div class="block padded printable-top">
        {% for public in characterData.public %}
            <div class="block">
                <strong>{{ public.name }}:</strong> {{ public.value }}
            </div>
        {% endfor %}
    </div>

    <div class="clear"></div>

    <div class="block padded threesplit">
        <h2 class="center">Attributes</h2>
        {% if characterData.attributes %}
            <table>
                <tbody>
                {% for attribute in characterData.attributes %}
                    <tr>
                        <td class="left">{{ attribute.name }}</td>
                        <td class="center bigdot">{% for i in 1..attribute.value %}&#9679;{% endfor %}{% for i in 1..(5-attribute.value) %}&#9675;{% endfor %}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="center note">No attributes found. This is an error.</p>
        {% endif %}

        <h2 class="center">Auxiliary stats</h2>
        {% if characterData.rolls %}
            <table>
                <tbody>
                {% for roll in characterData.rolls %}
                    <tr>
                        <td class="left">{{ roll.label }}</td>
                        <td class="center">{{ roll.value }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="center note">No auxiliary stats found.</p>
        {% endif %}
    </div>

    <div class="block padded threesplit">
        <h2 class="center">Defences</h2>
        <table>
            <thead>
            <tr>
                <th>Situation</th>
                <th>Passive</th>
                <th>Active</th>
            </tr>
            </thead>
            <tbody>
            {% for defence in characterData.defences %}
                <tr>
                    <td class="left">{{ defence.label }}</td>
                    <td class="center">{{ defence.value }}</td>
                    <td class="center">{{ defence.roll }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="block padded threesplit">
        <h2 class="center">Languages</h2>
        <table>
            <tbody>
            {% if characterData.languages %}
                {% for language in characterData.languages %}
                    <tr title="{{ language.description }}">
                        <td class="left">{{ language.name }}</td>
                        <td class="center">{{ language.level }}</td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="2" class="center note">No languages found. This is likely an error.</td>
                </tr>
            {% endif %}
            </tbody>
        </table>
    </div>

    <div class="clear"></div>

    <div class="block padded">
        <h2 class="center">Advantages</h2>
        <table>
            <tbody>
            {% if characterData.advantages %}
                {% for advantage in characterData.advantages %}
                    <tr>
                        <td class="left">{{ advantage.name }}</td>
                        <td class="center">{{ advantage.level }}</td>
                        <td class="justified">
                            {{ advantage.description }}
                            {% if advantage.details %} <span class="note">{{ advantage.details }}</span>{% endif %}
                        </td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="3" class="center note">No advantages found</td>
                </tr>
            {% endif %}
            </tbody>
        </table>
    </div>

    <div class="clear"></div>

    {% if characterData.stunts %}
        <div class="block padded">
            <h2 class="center">Techniques</h2>
            <table>
                <thead>
                <tr>
                    <th>Technique</th>
                    <th>Description &amp; details</th>
                </tr>
                </thead>
                <tbody>
                {% for stunt in characterData.stunts %}
                    <tr title="{{ stunt.description }}">
                        <td class="left">{{ stunt.name }}</td>
                        <td class="justified">{{ stunt.description }}{% if stunt.details %} <span
                                    class="note">{{ stunt.details }}</span>{% endif %}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="clear"></div>

    {% endif %}

    <div class="block padded full-width">
        <h2 class="center">Abilities</h2>
        {% if characterData.professions %}
            {% for profession in characterData.professions %}
                <div class="block threesplit unbreakable">
                    <h3 class="center">{{ profession.name }}</h3>
                    <table>
                        <tbody>
                        {% for skill in profession.skills %}
                            <tr class="{{ skill.class }}">
                                <td class="left">{{ skill.name }}</td>
                                <td class="center bigdot">
                                    {% if skill.value > 0 %}{% for i in 1..skill.value %}&#9679;{% endfor %}{% endif %}{% for i in 1..(5-skill.value) %}&#9675;{% endfor %}
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% if (loop.index%3) == 0 %}
                    <div class="clear"></div>
                {% endif %}
            {% endfor %}
        {% else %}
            <p class="center note">No abilities found. This is an error.</p>
        {% endif %}
    </div>

    <div class="clear"></div>

    {% if characterData.contacts %}
        <div class="block padded">
            <h2 class="center">Contacts</h2>
            <table>
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Who is this?</th>
                    <th>Who is this to you?</th>
                    <th>Attitude towards you</th>
                    <th>Usefulness</th>
                    <th>Your knowledge</th>
                    <th>Details</th>
                </tr>
                </thead>
                <tbody>
                {% for contact in characterData.contacts %}
                    <tr>
                        <td class="left">{{ contact.name }}</td>
                        <td class="left">{{ contact.whoGenerally }}</td>
                        <td class="left">{{ contact.whoToPerson }}</td>
                        <td class="center">{{ contact.like }}</td>
                        <td class="center">{{ contact.usefulness }}</td>
                        <td class="center">{{ contact.knowledge }}</td>
                        <td class="justified">{{ contact.details }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    {% endif %}

    <div class="clear"></div>

    {% if characterData.income %}
        <div class="block padded">
            <h2 class="center">Income</h2>
            <table>
                <thead>
                <tr>
                    <th>Source</th>
                    <th>Frequency</th>
                    <th>Value</th>
                    <th>Currency</th>
                </tr>
                </thead>
                <tbody>
                {% for incomeSource in characterData.income %}
                    <tr>
                        <td class="left">{{ incomeSource.name }}</td>
                        <td class="center">{{ incomeSource.frequency }}</td>
                        <td class="center">{{ incomeSource.value }}</td>
                        <td class="center">{{ incomeSource.currency }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    {% endif %}

    {% if characterData.expenses %}
        <div class="block padded">
            <h2 class="center">Expenses</h2>
            <table>
                <thead>
                <tr>
                    <th>Source</th>
                    <th>Frequency</th>
                    <th>Value</th>
                    <th>Currency</th>
                </tr>
                </thead>
                <tbody>
                {% for expenseGoal in characterData.expenses %}
                    <tr>
                        <td class="left">{{ expenseGoal.name }}</td>
                        <td class="center">{{ expenseGoal.frequency }}</td>
                        <td class="center">{{ expenseGoal.value }}</td>
                        <td class="center">{{ expenseGoal.currency }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    {% endif %}

    <div class="clear"></div>

    <div class=" block padded">
        <h2 class="center">Equipment</h2>
        <table>
            <thead>
            <tr>
                <th>Name / type</th>
                <th>Count</th>
                <th>Details</th>
            </tr>
            </thead>
            <tbody>
            {% if characterData.equipment %}
                {% for equipmentItem in characterData.equipment %}
                    <tr>
                        <td class="left">{{ equipmentItem.name }}</td>
                        <td class="center">{{ equipmentItem.count }}</td>
                        <td class="justified">{{ equipmentItem.details }}</td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="3" class="center note">No equipment found. This is likely an error.</td>
                </tr>
            {% endif %}
            </tbody>
        </table>
    </div>

    <div class="clear"></div>

    <div class="block padded">
        <h2 class="center">Weapons</h2>
        <table>
            <thead>
            <tr>
                <th>Weapon</th>
                <th title="Knack usually used to attack">Knack</th>
                <th title="Attack roll">Roll</th>
                <th title="Brawn included">Dmg</th>
                <th>Range</th>
                <th title="Knacks included, optional tricks not included">Reload</th>
            </tr>
            </thead>
            <tbody>
            {% if characterData.weapons %}
                {% for weapon in characterData.weapons %}
                    <tr>
                        <td class="left">{{ weapon.name }} &#215;{{ weapon.count }}</td>
                        <td class="center">{{ weapon.knack }}</td>
                        <td class="center">{{ weapon.roll }}</td>
                        <td class="center">{{ weapon.damage }}</td>
                        <td class="center">{{ weapon.range }}</td>
                        <td class="center">{{ weapon.reload }}</td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="8" class="center note">No weapons found</td>
                </tr>
            {% endif %}
            </tbody>
        </table>
    </div>

    <div class="clear"></div>

    <div class="block padded">
        <h2 class="center">Backgrounds</h2>
        <table>
            <tbody>
            {% if characterData.catches %}
                {% for catch in characterData.catches %}
                    <tr title="{{ catch.description }}">
                        <td class="left">{{ catch.name }}</td>
                        <td class="center">{{ catch.level }}</td>
                        <td class="justified">{{ catch.details }}</td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="3" class="center note">No backgrounds found</td>
                </tr>
            {% endif %}
            </tbody>
        </table>
    </div>

    <div class="clear"></div>

    <div class="block padded twosplit">
        <h2 class="center">Basics (may contain secrets)</h2>
        <table>
            <tbody>
            {% for basic in characterData.basics %}
                <tr title="{{ basic.description }}">
                    <td class="left">{{ basic.name }}</td>
                    <td class="center">{{ basic.value }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="block padded twosplit">
        <h2 class="center">Variables (for your own use)</h2>
        {% if characterData.variables %}
            <table>
                <tbody>
                {% for variable in characterData.variables %}
                    <tr title="{{ variable.description }}">
                        <td class="left">{{ variable.name }}</td>
                        <td class="center">&nbsp;</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="center note">No variables found.</p>
        {% endif %}
    </div>


    <div class="clear"></div>

{% endblock %}
